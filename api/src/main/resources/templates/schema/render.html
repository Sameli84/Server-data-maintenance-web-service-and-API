<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Render</title>
</head>
<body>
<section layout:fragment="content">
    <a hx-get="/schema" hx-target="body" class="btn btn-outline-primary" hx-push-url="true">GO BACK!</a>
    <form th:object="${courseSchema}" id="schemaForm" class="row">
        <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}"/>
        <div th:each="part, stat : ${courseSchema.parts}" th:class="'col-' + ${3*part.controlWidth}">
            <label th:for="'parts[' + ${stat.index} + '].name'"
                   th:text="${part.name?.length() > 0 ? part.name : '_empty partname_'}"></label>
            <input type="text"
                   class="form-control"
                   th:id="'parts[' + ${stat.index} + '].name'"
                   th:name="'parts[' + ${stat.index} + '].name'"
                   th:disabled="${part.locked}"
                   th:required="${part.required}"
                   th:aria-label="${part.name}">
        </div>
    </form>
</section>
</body>
</html>
