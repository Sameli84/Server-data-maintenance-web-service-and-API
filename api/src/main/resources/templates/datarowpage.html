<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">
<head>
    <title>DATAROW</title>
</head>
<body>
<section layout:fragment="content">
    <h1>Available Data</h1>

    <form method="get" action="/datarowpage">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <select name="selectCourse" id="selectCourse">
            <option value=-1>All courses</option>
            <option th:each="course : ${courses}"
                    th:value="${course.id}"
                    th:text="${course.name}"
                    th:selected="${param.selectCourse} != null and ${course.id}==${param.selectCourse[0]}">
            </option>
        </select>
        <button type="submit">Filter</button>
    </form>

    <table class="table" id="myTableId">
        <thead>
        <tr>
            <th>data id</th>
            <th>student alias</th>
            <th>csc username</th>
            <th>uid</th>
            <th>dns name</th>
            <th>self made dns name</th>
            <th>name</th>
            <th>vps user name</th>
            <th>pouta dns</th>
            <th>ip address</th>
            <th>account</th>
            <th>course</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="dataRow : ${datarows}">
            <td>[[${dataRow.id}]]</td>
            <td>[[${dataRow.studentAlias}]]</td>
            <td>[[${dataRow.cscUsername}]]</td>
            <td>[[${dataRow.uid}]]</td>
            <td>[[${dataRow.dnsName}]]</td>
            <td>[[${dataRow.selfMadeDnsName}]]</td>
            <td>[[${dataRow.name}]]</td>
            <td>[[${dataRow.vpsUserName}]]</td>
            <td>[[${dataRow.poutaDns}]]</td>
            <td>[[${dataRow.ipAddress}]]</td>
            <td>[[${dataRow.account.name}]]</td>
            <td>[[${dataRow.course.name}]]</td>
        </tr>
        </tbody>
    </table>
</section>
</body>
</html>
